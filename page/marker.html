<!DOCTYPE html>
<html lang="en">
<link>
    <meta charset="UTF-8">
    <title>marker</title>
    <link rel="stylesheet" href="../css/style.css"/>
    <style>
        #map{
            position: relative;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            border: 0;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script type="text/javascript" src="../js/Event.js"></script>
    <script type="text/javascript" src="../js/MouseHandler.js"></script>
    <script type="text/javascript" src="../js/Util.js"></script>
    <script type="text/javascript" src="../js/Point.js"></script>
    <script type="text/javascript" src="../js/LonLat.js"></script>
    <script type="text/javascript" src="../js/Project.js"></script>
    <script type="text/javascript" src="../js/BBox.js"></script>
    <script type="text/javascript" src="../js/Map.js"></script>
    <script type="text/javascript" src="../js/Layer.js"></script>
    <script type="text/javascript" src="../js/MarkerLayer.js"></script>
    <script type="text/javascript" src="../js/tile.js"></script>
    <script type="text/javascript" src="../js/Marker.js"></script>
    <script type="text/javascript" src="../js/CanvasRenderer.js"></script>
    <script>
        let map = new Map({
            center: new LonLat(
                116.3,
                39.85
            ),
            zoom: 11
        });
        map.addTileLayer({
            id: "tile",
            url: "https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"
        });

        let arr = [
            [116.42,39.93], [116.37,39.92], [116.43,39.88], [116.35,39.87],
            [116.43,39.92], [116.28,39.85], [116.22,39.9],  [116.3,39.95],
            [116.1,39.93],  [116.13,39.75], [116.65,39.92], [116.65,40.13],
            [116.23,40.22], [116.33,39.73], [116.63,40.32], [117.12,40.13],
            [116.83,40.37], [115.97,40.45]
        ];
        let markers = [];
        arr.forEach(i => {
            let marker =  {
                lonlat: new LonLat(i[0], i[1]),
                iconWidth: 40,
                iconHeight: 40,
                offset:[0, -20],
                iconUrl: '../img/marker.png'
            };
            markers.push(marker);
        })
        let markerLayer = new MarkerLayer({
            markers: markers
        });
        map.addLayer(markerLayer);
    </script>
</body>
</html>